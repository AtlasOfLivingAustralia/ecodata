var Output_rarc_EventAndLocationDetails_featuresTableRow=function(e,a,t,r){var s=this;ecodata.forms.NestedModel.apply(s,[e,a,t,r]),t=_.extend(t,{parent:s}),s.feature_parameter=ko.observable(),s.feature_transectOne=ko.observable().extend({metadata:{metadata:s.dataModel.feature_transectOne,context:t,config:r}}),s.feature_transectTwo=ko.observable().extend({metadata:{metadata:s.dataModel.feature_transectTwo,context:t,config:r}}),s.feature_transectThree=ko.observable().extend({metadata:{metadata:s.dataModel.feature_transectThree,context:t,config:r}}),s.feature_transectFour=ko.observable().extend({metadata:{metadata:s.dataModel.feature_transectFour,context:t,config:r}}),s.featuresAverageScore=ko.observable(),s.loadData=function(e){s.feature_parameter(ecodata.forms.orDefault(e.feature_parameter,void 0)),s.feature_transectOne(ecodata.forms.orDefault(e.feature_transectOne,void 0)),s.feature_transectTwo(ecodata.forms.orDefault(e.feature_transectTwo,void 0)),s.feature_transectThree(ecodata.forms.orDefault(e.feature_transectThree,void 0)),s.feature_transectFour(ecodata.forms.orDefault(e.feature_transectFour,void 0)),s.featuresAverageScore(ecodata.forms.orDefault(e.featuresAverageScore,void 0))},s.loadData(e||{}),s.transients.convertToInt=function(e,a){var t="";if("Reeds"==e||"Large native tussock grasses"==e)switch(a){case"None":t=0;break;case"Scattered":t=1;break;case"Abundant":t=2}else switch(a){case"None":t=0;break;case"Scattered":t=1;break;case"Abundant":t=2;break;case"Abundant with grazing damage":t=-.5}return t},s.transients.featuresAverageScore=ko.computed(function(){var e,a,t,r,n=0,o=0;e=s.transients.convertToInt(s.feature_parameter(),s.feature_transectOne()),a=s.transients.convertToInt(s.feature_parameter(),s.feature_transectTwo()),t=s.transients.convertToInt(s.feature_parameter(),s.feature_transectThree()),r=s.transients.convertToInt(s.feature_parameter(),s.feature_transectFour()),e&&(o+=e,n++),a&&(o+=a,n++),t&&(o+=t,n++),r&&(o+=r,n++);var c=o/n;return c=isNaN(c)?0:c,s.featuresAverageScore(c.toFixed(2)),c},this)},context=_.extend({},context,{parent:self,listName:"featuresTable"});self.data.featuresTable=ko.observableArray().extend({list:{metadata:self.dataModel,constructorFunction:Output_rarc_EventAndLocationDetails_featuresTableRow,context:context,userAddedRows:!1,config:config}}),self.data.featuresTable.loadDefaults=function(){self.data.featuresTable.addRow({nativeCanopyRegen_T3:"",nativeCanopyRegen_T4:"",nativeCanopyRegen_averageScore:"",feature_parameter:"Native canopy species regeneration",nativeCanopyRegen_T1:"",nativeCanopyRegen_T2:""}),self.data.featuresTable.addRow({nativeUnderstoreyRegen_averageScore:"",feature_parameter:"Native understorey regeneration",nativeUnderstoreyRegen_T1:"",nativeUnderstoreyRegen_T2:"",nativeUnderstoreyRegen_T3:"",nativeUnderstoreyRegen_T4:""}),self.data.featuresTable.addRow({tussockGrasses_averageScore:"",feature_parameter:"Large native tussock grasses",tussockGrasses_T4:"",tussockGrasses_T3:"",tussockGrasses_T2:"",tussockGrasses_T1:""}),self.data.featuresTable.addRow({reeds_T1:"",reeds_T4:"",feature_parameter:"Reeds",reeds_T3:"",reeds_T2:"",reeds_averageScore:""})};