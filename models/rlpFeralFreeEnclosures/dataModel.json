{
  "title": "Establishing and maintaining feral-free enclosures",
  "modelName": "RLP - Maintaining feral free enclosures",
  "dataModel": [
    {
      "dataType": "list",
      "name": "enclosureDetails",
      "columns": [
        {
          "dataType":"text",
          "name":"newOrMaintained",
          "validate": "required",
          "constraints": [
            "Newly established",
            "Maintained"
          ]
        },
        {
          "dataType": "number",
          "name": "numberOfEnclosures",
          "validate": "required"
        },
        {
          "dataType":"number",
          "name":"daysSpentOnMaintenanceOfEnclosures",
          "validate":"min[0]"
        },
        {
          "dataType": "feature",
          "name": "siteOfEnclosures",
          "validate": "required"
        },
        {
          "dataType": "number",
          "name": "areaOfEnclosuresHa",
          "validate": "required",
          "computed": {
            "expression": "$geom.areaHa(siteOfEnclosures)",
            "dependents": {
              "source": [
                "siteOfEnclosures"
              ]
            }
          }
        },
        {
          "dataType": "number",
          "name": "lengthOfEnclosuresKm",
          "validate": "required",
          "computed": {
            "expression": "$geom.lengthKm(siteOfEnclosures)",
            "dependents": {
              "source": [
                "siteOfEnclosures"
              ]
            }
          }
        },
        {
          "dataType":"list",
          "name":"speciesProtected",
          "columns":[

            {
              "dataType": "species",
              "description": "The threatened species protected by the enclosure",
              "name": "targetSpecies",
              "dwcAttribute": "scientificName",
              "validate": "required"
            },
            {
              "dataType":"text",
              "name":"individualsOrPopulations",
              "validate":"required",
              "constraints":[
                "Individuals",
                "Populations"
              ]
            },
            {
              "dataType":"number",
              "name":"numberOfPopulationsOrIndividualsProtected",
              "validate":"required,min[0]"
            },
            {
              "name":"enclosureObjective",
              "dataType":"text",
              "validate":"required,maxSize[300]"
            }
          ]
        }

      ]
    }
  ],
  "viewModel": [
    {
      "items": [
        {
          "source": "enclosureDetails",
          "addRowText":"Add feral-free enclousure",
          "items": [
            {
              "type":"row",
              "items":[
                {
                  "preLabel": "Newly established or maintained feral free enclosure?",
                  "source": "newOrMaintained",
                  "type": "selectOne",
                  "css":"span4"
                },
                {
                  "type":"number",
                  "source":"numberOfEnclosures",
                  "preLabel":"Number of feral free enclosures",
                  "css":"span3"
                },
                {
                  "type":"number",
                  "source":"daysSpentOnMaintenanceOfEnclosures",
                  "preLabel":"Number of days maintaining feral-free enclosures",
                  "css":"span3"
                }]
            },
            {
              "type":"row",
              "items":[

                {
                  "type":"feature",
                  "source":"siteOfEnclosures",
                  "preLabel":"Site/s of feral free enclosures",
                  "css":"span4"
                },
                {
                  "type":"number",
                  "source":"areaOfEnclosuresHa",
                  "preLabel":"Area (ha) of feral-free enclosures",
                  "readonly":"readonly",
                  "css":"span3"
                },
                {
                  "type":"number",
                  "source":"lengthOfEnclosuresKm",
                  "preLabel":"Length (km) of feral-free enclosures",
                  "css":"span3",
                  "readonly":"readonly"
                }

              ]
            },
            {
              "type":"table",
              "userAddedRows": true,
              "source":"speciesProtected",
              "columns":[
                {
                  "title": "Targeted threatened species",
                  "source": "targetSpecies",
                  "type": "speciesSelect",
                  "width":"50%"
                },
                {
                  "title":"Individuals or populations?",
                  "source":"individualsOrPopulations",
                  "type":"selectOne",
                  "width":"30%"
                },
                {
                  "title":"Number of populations (or individuals) protected within feral free enclosures",
                  "source":"numberOfPopulationsOrIndividualsProtected",
                  "type":"number",
                  "width":"20%"
                }
              ]
            }

          ],
          "userAddedRows": true,
          "type": "repeat"
        }
      ],
      "type": "section"
    }
  ]
}