{
  "modelName": "RLP Annual Report",
  "title": "Annual project report",
  "dataModel": [
    {
      "dataType": "text",
      "name": "keyAchievements",
      "validate": "required,maxSize[1250]"
    },
    {
      "dataType": "text",
      "name": "keyIssues",
      "validate": "required,maxSize[1250]"
    },
    {
      "name": "minimumAnnualTargetsNotMet",
      "dataType": "list",
      "columns": [
        {
          "dataType": "text",
          "name": "serviceName"
        },
        {
          "dataType": "text",
          "name": "targetMeasure",
          "description": "The output target measure to be adjusted."
        },
        {
          "dataType": "text",
          "name": "scoreId",
          "description": "Identifier for the target measure"
        },
        {
          "dataType": "text",
          "name": "annualTarget",
          "description": "The minimum annual target specified in the MERI plan for the target measure"
        },
        {
          "dataType": "text",
          "name": "result",
          "description": "The actual progress towards the target this financial year"
        },
        {
          "name": "reasonTargetNotMet",
          "dataType": "text",
          "validate": "required,maxSize[500]"
        }
      ]
    },
    {
      "name": "adaptiveManagementImplemented",
      "dataType": "text",
      "validate": "required",
      "constraints": [
        "Yes",
        "No"
      ]
    },
    {
      "name": "adaptiveManagementActions",
      "dataType": "text",
      "validate": "required,maxSize[1250]",
      "behaviour": [
        {
          "condition": "adaptiveManagementImplemented == \"Yes\"",
          "type": "enable"
        }
      ]
    },
    {
      "name": "meriPlanChangesRequired",
      "dataType": "text",
      "validate": "required",
      "constraints": [
        "Yes",
        "No"
      ],
      "behaviour": [
        {
          "condition": "adaptiveManagementImplemented == \"Yes\"",
          "type": "enable"
        }
      ]
    },
    {
      "name": "meriPlanChangesDetails",
      "dataType": "text",
      "validate": "required,maxSize[1250]",
      "behaviour": [
        {
          "condition": "meriPlanChangesRequired == \"Yes\"",
          "type": "enable"
        }
      ]
    },
    {
      "name": "whsIncidentsOccurred",
      "dataType": "text",
      "validate": "required",
      "constraints": [
        "Yes",
        "No"
      ]
    },
    {
      "name": "whsIncidentsDescription",
      "dataType": "text",
      "validate": "required",
      "behaviour": [
        {
          "condition": "whsIncidentsOccurred == \"Yes\"",
          "type": "enable"
        }
      ]
    }
  ],
  "pre-populate": [
    {
      "mapping": [
        {
          "target": "minimumAnnualTargetsNotMet",
          "source-path": "targets",
          "mapping": [
            {
              "source-path": "service",
              "target": "serviceName"
            },
            {
              "source-path": "targetMeasure",
              "target": "targetMeasure"
            },
            {
              "source-path": "scoreId",
              "target": "scoreId"
            },
            {
              "source-path": "financialYearTarget",
              "target": "annualTarget"
            },
            {
              "source-path": "financialYearResult",
              "target": "result"
            }
          ]
        }
      ],
      "source": {
        "url": "/project/scoresByFinancialYear/",
        "params": [
          {
            "name": "id",
            "type": "computed",
            "expression": "owner.projectId"
          },
          {
            "name": "financialYearEndDate",
            "type": "computed",
            "expression": "activity.plannedEndDate"
          }
        ]
      }
    }
  ],
  "viewModel": [
    {
      "type": "row",
      "items": [
        {
          "preLabel": "1. Please outline the key achievements met by the project and progress towards outcomes in the past 12 months (1250 character, [approx. 250 word] limit)",
          "source": "keyAchievements",
          "type": "textarea",
          "rows": 4
        }
      ]
    },
    {
      "type": "row",
      "items": [
        {
          "preLabel": "2. Please outline any key issues in the delivery of the project in the past 12 months and how they were managed/rectified. (1250 character, [approx. 250 word] limit)",
          "source": "keyIssues",
          "type": "textarea",
          "rows": 4
        }
      ]
    },
    {
      "title": "<b>3. Please outline which minimum annual target services have not been met and why.</b><br/>",
      "type": "table",
      "source": "minimumAnnualTargetsNotMet",
      "userAddedRows": false,
      "disableTableUpload": true,
      "columns": [
        {
          "type": "text",
          "source": "serviceName",
          "title": "Service",
          "width": "15%",
          "readonly": true
        },
        {
          "type": "text",
          "width": "20%",
          "source": "targetMeasure",
          "title": "Target not met",
          "readonly": true
        },
        {
          "type": "text",
          "source": "annualTarget",
          "width": "13%",
          "title": "Minimum annual target",
          "readonly": true
        },
        {
          "type": "text",
          "source": "result",
          "title": "Progress achieved",
          "width": "12%",
          "readonly": true
        },
        {
          "type": "text",
          "width": "40%",
          "source": "reasonTargetNotMet",
          "title": "Reasons why the target has not been met (500 character, [approx. 100 word] limit)"
        }
      ]
    },
    {
      "type": "row",
      "items": [
        {
          "css": "span6",
          "type": "selectOne",
          "source": "adaptiveManagementImplemented",
          "preLabel": "4. In the past 12 months, have any adaptive management actions been implemented to improve the project?"
        }
      ]
    },
    {
      "type": "row",
      "items": [
        {
          "type": "textarea",
          "rows": 4,
          "source": "adaptiveManagementActions",
          "preLabel": "4. a) Please describe these adaptive management actions (1250 character [approx. 250 word] limit)."
        }
      ]
    },
    {
      "type": "row",
      "items": [
        {
          "css": "span6",
          "type": "selectOne",
          "source": "meriPlanChangesRequired",
          "preLabel": "4. b) Are changes to the project MERI plan required?"
        }
      ]
    },
    {
      "type": "row",
      "items": [
        {
          "type": "textarea",
          "rows": 4,
          "source": "meriPlanChangesDetails",
          "preLabel": "4. b) ii) Please outline changes to the project MERI plan required and why they are required. (1250 character [approx. 250 word] limit)."
        }
      ]
    },
    {
      "type": "row",
      "items": [
        {
          "css": "span6",
          "type": "selectOne",
          "source": "whsIncidentsOccurred",
          "preLabel": "5. In the past 12 months, have any notifiable project Workplace Health and Safety incidents occurred during the delivery of the project?"
        }
      ]
    },
    {
      "type": "row",
      "items": [
        {
          "type": "textarea",
          "rows": 4,
          "source": "whsIncidentsDescription",
          "preLabel": "5. a) Please describe the Workplace Health and Safety incidents, were they reported and what was the outcome of any investigation."
        }
      ]
    }
  ]
}