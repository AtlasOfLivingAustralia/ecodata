{
  "title": "Weed treatment and removal",
  "modelName": "RLP - Weed management",
  "dataModel": [
    {
      "dataType": "number",
      "description": "This is the total area where initial weed treatment has been undertaken/applied across sites for this project only.  Please see the reference guide for more information on initial weed treatment.",
      "name": "weedAreaTreatedHa",
      "validate": "required,min[0]"
    },
    {
      "dataType": "number",
      "description": "This is the total area where follow-up weed treatment has been undertaken/applied across sites for this project only.  Please see the reference guide for more information on follow-up weed control.",
      "name": "weedAreaTreatedFollowupHa",
      "validate": "required,min[0]"
    },
    {
      "dataType": "stringList",
      "name": "siteIds",
      "validate": "required",
      "constraints": {
        "config": {
          "source": {
            "context-path": "project.sites"
          },
          "mapping": [
            {
              "target": "id",
              "source-path": "siteId"
            },
            {
              "target": "text",
              "source-path": "name"
            }
          ]
        },
        "type": "pre-populated"
      }
    },
    {
      "dataType": "list",
      "name": "weedSpeciesTreated",
      "columns": [
        {
          "dataType": "species",
          "description": "Weed species targeted for treatment (start typing a  scientific or common name for a species)",
          "name": "weedTargetSpecies",
          "dwcAttribute": "scientificName",
          "validate": "required"
        },
        {
          "dataType": "text",
          "description": "The primary method used to treat the patch of the target species",
          "name": "treatmentMethod",
          "constraints": [
            "Fire",
            "Moisture and nutrient control",
            "Overplanting",
            "Foliar spraying",
            "Basal bark spraying",
            "Stem injection",
            "Cut stump",
            "Cut and swab",
            "Splatter gun",
            "Stem scraper",
            "Wick applicators",
            "Slashing",
            "Mowing",
            "Dozing",
            "Pushing",
            "Felling",
            "Hand pulling",
            "Grubbing/chipping",
            "Biological agents",
            "Other"

          ],
          "validate": "required"
        },
        {
          "dataType":"text",
          "name":"treatmentMethodNotes",
          "description":"Please specify the method of treatment used if Other (specify in notes) was selected in the Treatment Method column.",
          "behaviour":[
            {
              "condition": "treatmentMethod == \"Other\"",
              "type": "enable"
            }
          ],
          "validate":"required"
        }
      ]
    }
  ],
  "viewModel": [
    {
      "items": [
        {
          "items": [
            {
              "source": "weedAreaTreatedHa",
              "preLabel": "Area treated for pest weeds (ha) - initial treatment/removal area only",
              "type": "number",
              "css":"span3"
            },
            {
              "source": "weedAreaTreatedFollowupHa",
              "preLabel": "Area treated for pest weeds (ha) - follow-up treatment/removal area only",
              "type": "number",
              "css":"span3"
            },
            {
              "type":"select2Many",
              "source":"siteIds",
              "preLabel":"Project sites where treatment / removal was undertaken",
              "css":"span6"
            }
          ],
          "type": "row"
        },
        {
          "source": "weedSpeciesTreated",
          "columns": [
            {
              "title": "Species treated",
              "source": "weedTargetSpecies",
              "type": "speciesSelect",
              "width":"40%"
            },
            {
              "title": "Treatment method",
              "source": "treatmentMethod",
              "type": "select2",
              "width":"30%"
            },
            {
              "title":"Treatment method (if other)",
              "source":"treatmentMethodNotes",
              "type":"text",
              "width":"30%"
            }
          ],
          "userAddedRows": true,
          "type": "table"
        }
      ],
      "type": "section"
    }
  ]
}