{
  "title": "Removing weeds",
  "modelName": "RLP - Weed treatment",
  "dataModel": [
    {
      "dataType": "list",
      "name": "weedSpeciesTreated",
      "columns": [
        {
          "name":"initialOrFollowup",
          "dataType":"text",
          "validate":"required",
          "constraints":[
            "Initial treatment",
            "Follow-up treatment"
          ]
        },
        {
          "dataType": "feature",
          "name": "sitesTreated",
          "validate": "required"
        },
        {
          "dataType": "number",
          "name": "areaTreatedHa",
          "validate": "required",
          "computed": {
            "expression": "$geom.areaHa(sitesTreated)",
            "dependents": {
              "source": [
                "sitesTreated"
              ]
            }
          }
        },
        {
          "dataType": "species",
          "description": "Weed species targeted for treatment (start typing a  scientific or common name for a species)",
          "name": "weedTargetSpecies",
          "dwcAttribute": "scientificName",
          "validate": "required"
        },
        {
          "dataType": "text",
          "description": "The primary method used to treat the patch of the target species",
          "name": "treatmentMethod",
          "constraints": [
            "Fire",
            "Moisture and nutrient control",
            "Overplanting",
            "Foliar spraying",
            "Basal bark spraying",
            "Stem injection",
            "Cut stump",
            "Cut and swab",
            "Splatter gun",
            "Stem scraper",
            "Wick applicators",
            "Slashing",
            "Mowing",
            "Dozing",
            "Pushing",
            "Felling",
            "Hand pulling",
            "Grubbing/chipping",
            "Biological agents",
            "Other"

          ],
          "validate": "required"
        },
        {
          "dataType":"text",
          "name":"otherTreatmentMethod",
          "description":"Please specify the method of treatment used if Other (specify in notes) was selected in the Treatment Method column.",
          "behaviour":[
            {
              "condition": "treatmentMethod == \"Other\"",
              "type": "enable"
            }
          ],
          "validate":"required"
        },
        {
          "name":"treatmentObjective",
          "dataType":"text",
          "validate":"required,maxSize[300]"
        },
        {
          "name":"numberOfIndividualsOrInfestationsRemoved",
          "dataType":"number",
          "validate":"required,min[0]"
        }

      ]
    }
  ],
  "viewModel": [
    {
      "items": [
        {
          "source": "weedSpeciesTreated",
          "columns": [
            {
              "title":"Initial / Followup control",
              "source":"initialOrFollowup",
              "type":"selectOne",
              "width":"10%"
            },
            {
              "type":"feature",
              "source":"sitesTreated",
              "title":"Sites treated for weeds",
              "width":"5%"
            },
            {
              "type":"number",
              "readonly":"readonly",
              "source":"areaTreatedHa",
              "title":"Area (ha) treated for weed removal",
              "width":"5%"
            },
            {
              "title": "Target weed species",
              "source": "weedTargetSpecies",
              "type": "speciesSelect",
              "width":"20%"
            },
            {
              "title": "Type of treatment",
              "source": "treatmentMethod",
              "type": "select2",
              "width":"15%"
            },
            {
              "title":"Type of treatment (if other)",
              "source":"otherTreatmentMethod",
              "type":"text",
              "width":"15%"
            },
            {
              "title":"Treatment objective (300 character limit)",
              "source":"treatmentObjective",
              "type":"textarea",
              "width":"20%"
            },
            {
              "title":"Number of individuals OR infestations destroyed / removed",
              "source":"numberOfIndividualsOrInfestationsRemoved",
              "type":"number",
              "width":"5%"
            }

          ],
          "userAddedRows": true,
          "type": "table"
        }
      ],
      "type": "section"
    }
  ]
}